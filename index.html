<!DOCTYPE html>
<html >
<!--From https://codepen.io/frytyler/pen/EGdtg-->
<head>
  <meta charset="UTF-8">
  <title>credit details</title>
  <link href='https://fonts.googleapis.com/css?family=Pacifico' rel='stylesheet' type='text/css'>
<link href='https://fonts.googleapis.com/css?family=Arimo' rel='stylesheet' type='text/css'>
<link href='https://fonts.googleapis.com/css?family=Hind:300' rel='stylesheet' type='text/css'>
<link href='https://fonts.googleapis.com/css?family=Open+Sans+Condensed:300' rel='stylesheet' type='text/css'>
  
</head>
<style>
body  {
  background-color: #aaaaaa;
  
}

.result {
    margin: auto;
    width: 35%;
    border: 2px groove;
}
</style>
<body>
	<body>
		<h1>Make a Prediction</h1>
		<style>
			body {
				display: grid;
				place-items: center;
				height: 100vh;
				margin: 0;
			}
		</style>
		<form id="prediction-form" action="#" method="POST">
			<fieldset style="float:left;height: 390px;">
				<legend><b>Demographic data:</b></legend>
	
				<p><b>Gender:</b></p>
				<input type="radio" id="Male" name="SEX" value="1" required="required" />
				<label for="Male">Male</label>
				<input type="radio" id="Female" name="SEX" value="2" required="required" />
				<label for="Female">Female</label>
				<br>
	
				<p><b>Education:</b></p>
				<input type="radio" id="Graduate School" name="EDUCATION" value="1" required="required"/>
				<label for="graduate_school">Graduate School</label>
				<input type="radio" id="University" name="EDUCATION" value="2" required="required"/>
				<label for="University">University</label>
				<input type="radio" id="High School" name="EDUCATION" value="3" required="required"/>
				<label for="high_school">High School</label>
				<input type="radio" id="Others" name="EDUCATION" value="4" required="required"/>
				<label for="Others">Others</label>
				<br>
	
				<p><b>Marital Status:</b></p>
				<input type="radio" id="Married" name="MARRIAGE" value="1" required="required"/>
				<label for="Married">Married</label>
				<input type="radio" id="single" name="MARRIAGE" value="2" required="required"/>
				<label for="Single">Single</label>
				<input type="radio" id="Others" name="MARRIAGE" value="3" required="required"/>
				<label for="Others">Others</label>
				<br><br>
	
				<label for="Age"><b>Age:</b></label>
				<input type="text" name="AGE" placeholder="in years" required="required" />
				<br><br>
	
				<p><b>Limit Balance:</b></p>
				<input type="text" name="LIMIT_BAL" placeholder="amount in dollars" required="required" />
			</fieldset>
	
			<fieldset style="height: 390px;">
				<legend><b>Behavioral data:</b></legend>
	
				<div class="repay_status_parent">
					<p><b>Repayment Status:</b></p>
					<div style="float:left; margin-right: 1.5em;">
						<label for="repay_status">April</label><br>
						<input name="PAY_6" id="pay_6" min="-2" max="5" type="number" value="0" required>
					</div>
					<div style="float:left; margin-right: 1.5em;">
						<label for="repay_status">May</label><br>
						<input name="PAY_5" id="pay_5" min="-2" max="5" type="number" value="0" required>
					</div>
					<div style="float:left; margin-right: 1.5em;">
						<label for="repay_status">June</label><br>
						<input name="PAY_4" id="pay_4" min="-2" max="5" type="number" value="0" required>
					</div>
					<div style="float:left; margin-right: 1.5em;">
						<label for="repay_status">July</label><br>
						<input name="PAY_3" id="pay_3" min="-2" max="5" type="number" value="0" required>
					</div>
					<div style="float:left; margin-right: 1.5em;">
						<label for="repay_status">August</label><br>
						<input name="PAY_2" id="pay_2" min="-2" max="5" type="number" value="0" required>
					</div>
					<div style="float:left;">
						<label for="repay_status">September</label><br>
						<input name="PAY_0" id="pay_0" min="-2" max="5" type="number" value="0" required>
					</div>
				</div>
	
				<br><br>
	
				<div class="bill_amount_parent">
					<p><b>Bill Amounts:</b></p>
					<div style="float:left; margin-right: 1.5em;">
						<label for="bill_amount">April</label><br>
						<input name="BILL_AMT6" id="bill_amt6" value="" placeholder="0" type="text" required>
					</div>
					<div style="float:left; margin-right: 1.5em;">
						<label for="bill_amount">May</label><br>
						<input name="BILL_AMT5" id="bill_amt5" value="" placeholder="0" type="text" required>
					</div>
					<div style="float:left; margin-right: 1.5em;">
						<label for="bill_amount">June</label><br>
						<input name="BILL_AMT4" id="bill_amt4" value="" placeholder="0" type="text" required>
					</div>
					<div style="float:left; margin-right: 1.5em;">
						<label for="bill_amount">July</label><br>
						<input name="BILL_AMT3" id="bill_amt3" value="" placeholder="0" type="text" required>
					</div>
					<div style="float:left; margin-right: 1.5em;">
						<label for="bill_amount">August</label><br>
						<input name="BILL_AMT2" id="bill_amt2" value="" placeholder="0" type="text" required>
					</div>
					<div style="float:left;">
						<label for="bill_amount">September</label><br>
						<input name="BILL_AMT1" id="bill_amt1" value="" placeholder="0" type="text" required>
					</div>
				</div>
	
				<br><br>

				<div style="clear: both;"></div>
	
				<div class="previous_payments_parent">
					<p><b>Previous Payments:</b></p>
					<div style="float:left; margin-right: 1.5em;">
						<label for="previous_payments">April</label><br>
						<input name="PAY_AMT6" id="pay_amt6" value="" placeholder="0" type="text" required>
					</div>
					<div style="float:left; margin-right: 1.5em;">
						<label for="previous_payments">May</label><br>
						<input name="PAY_AMT5" id="pay_amt5" value="" placeholder="0" type="text" required>
					</div>
					<div style="float:left; margin-right: 1.5em;">
						<label for="previous_payments">June</label><br>
						<input name="PAY_AMT4" id="pay_amt4" value="" placeholder="0" type="text" required>
					</div>
					<div style="float:left; margin-right: 1.5em;">
						<label for="previous_payments">July</label><br>
						<input name="PAY_AMT3" id="pay_amt3" value="" placeholder="0" type="text" required>
					</div>
					<div style="float:left; margin-right: 1.5em;">
						<label for="previous_payments">August</label><br>
						<input name="PAY_AMT2" id="pay_amt2" value="" placeholder="0" type="text" required>
					</div>
					<div style="float:left;">
						<label for="previous_payments">September</label><br>
						<input name="PAY_AMT1" id="pay_amt1" value="" placeholder="0" type="text" required>
					</div>
				</div>
			</fieldset>
	
			<div style="text-align: center;">
				<button type="submit" id="predict-btn">Predict</button>
				<style>
					/* Add this CSS code to style the predict button */
					#predict-btn {
						font-size: 24px;
						padding: 12px 24px;
						border: none;
						border-radius: 8px;
						background-color: #4CAF50;
						color: #ffffff;
						cursor: pointer;
					}
					
					#predict-btn:hover {
						background-color: rgb(60, 127, 208);
					}
				</style>
			</div>
		</form>
	
		<div id="result">
			No prediction yet.
			<style>
				/* Add this CSS code to style the result div */
				#result {
					font-size: 18px;
					font-weight: bold;
					margin-bottom: 12px;
					padding: 12px;
					border: 1px solid #ccc;
					border-radius: 8px;
					background-color: #f9f9f9;
				}
			</style>
		</div>
		
		<script>
			document.getElementById("prediction-form").addEventListener("submit", function(event) {
				// Prevent the default form submission
				event.preventDefault();
		
				// Get form data
				const formData = new FormData(this);
		
				// Make AJAX request
				fetch("{{ url_for('predict') }}", {
					method: "POST",
					body: formData,
				})
				.then(response => {
					if (!response.ok) {
						throw new Error("Network response was not ok");
					}
					return response.json();
				})
				.then(data => {
					// Display the prediction result
					const resultDiv = document.getElementById("result");
					if (data.error) {
						resultDiv.textContent = "Error: " + data.error;
					} else {
						const prediction = data.prediction[0];
						const probability = data.probability[0];
						resultDiv.textContent = `Prediction: ${prediction === 1 ? "Will Default" : "Will Not Default"} (Probability: ${probability[prediction]})`;
					}
				})
				.catch(error => {
					console.error("Error:", error);
				});
			});
		</script>
     		



</body>
</html>